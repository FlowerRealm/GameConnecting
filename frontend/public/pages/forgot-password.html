<!--
 * @Author: FlowerRealm admin@flowerrealm.top
 * @Date: 2025-06-28 08:49:21
 * @LastEditors: FlowerRealm admin@flowerrealm.top
 * @LastEditTime: 2025-06-28 11:25:49
 * @FilePath: /GameConnecting/frontend/public/pages/forgot-password.html
-->
<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>密码重置 - GameConnecting</title>
    <link rel="stylesheet" href="/styles/style.css">
    <script type="module" src="/js/forgotPassword.js" defer></script>
</head>

<body class="bg-gradient">
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="navbar-content-wrapper">
            <a href="/" class="navbar-brand">GameConnecting</a>
            <div class="navbar-menu" id="navMenu">
                <!-- 导航菜单项将由JavaScript动态生成 -->
            </div>
            <div class="navbar-auth" id="authButtons">
                <!-- 认证按钮将由JavaScript动态生成 -->
            </div>
        </div>
    </nav>

    <div class="login-container glassmorphic-container">
        <h1>密码重置</h1>

        <!-- 第一步：输入用户名 -->
        <form id="username-form">
            <div class="form-group">
                <label for="username">用户名</label>
                <input type="text" id="username" name="username" placeholder="输入您的用户名" required>
            </div>
            <button type="submit" class="btn btn-primary btn-block">获取重置码</button>
            <div class="links">
                <a href="/login">返回登录</a>
            </div>
            <div id="username-error" class="error hidden"></div>
        </form>

        <!-- 第二步：输入重置码 -->
        <form id="verification-form" style="display: none;">
            <div class="form-group">
                <label for="reset-code">重置码</label>
                <input type="text" id="reset-code" name="resetCode" placeholder="输入6位数字重置码" required pattern="[0-9]{6}"
                    maxlength="6">
            </div>
            <small class="help-text">已向您发送一个6位数字重置码</small>
            <button type="submit" class="btn btn-primary btn-block">验证重置码</button>
            <div class="links">
                <a href="#" id="back-to-username">返回</a>
            </div>
            <div id="verification-error" class="error hidden"></div>
        </form>

        <!-- 第三步：设置新密码 -->
        <form id="new-password-form" style="display: none;">
            <div class="form-group">
                <label for="new-password">新密码</label>
                <input type="password" id="new-password" name="newPassword" placeholder="至少6位字符" required minlength="6">
            </div>
            <div class="form-group">
                <label for="confirm-password">确认新密码</label>
                <input type="password" id="confirm-password" name="confirmPassword" placeholder="重复输入新密码" required
                    minlength="6">
            </div>
            <button type="submit" class="btn btn-primary btn-block">重置密码</button>
            <div id="password-error" class="error hidden"></div>
        </form>

        <!-- 成功信息 -->
        <div id="success-message" class="success hidden">
            <h2>密码重置成功!</h2>
            <p>您的密码已成功重置，现在可以使用新密码登录。</p>
            <a href="/login" class="btn btn-primary btn-block">返回登录</a>
        </div>
    </div>
</body>

</html>