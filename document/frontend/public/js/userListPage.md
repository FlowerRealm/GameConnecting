# 前端用户列表页面脚本 (`userListPage.js`)

该文件是前端用户列表页面的核心 JavaScript 逻辑，负责从后端获取活跃用户列表并将其渲染到页面上。它确保用户在访问此页面时已认证。

## 依赖

-   `./auth.js`: `AuthManager` 实例，用于用户认证。
-   `./navbar.js`: `initNavbar` 函数，用于初始化导航栏。
-   `./apiService.js`: `apiService` 实例，用于向后端发送 API 请求。
-   `./store.js`: `store` 实例，用于显示通知。

## 主要功能

### 1. 认证与初始化

-   在 `DOMContentLoaded` 事件触发时执行初始化逻辑。
-   检查用户是否已认证。如果未认证，则重定向到登录页面。
-   初始化导航栏 (`initNavbar()`)。

### 2. 用户列表加载与渲染

-   **获取用户列表**: 向后端 API (`/api/users/list`) 发送 GET 请求，以获取所有活跃用户的简要列表（仅包含 `id` 和 `username`）。
-   **渲染用户列表**: 
    -   如果成功获取到用户数据，则遍历用户数组，为每个用户创建一个 `<li>` 元素，并显示其用户名。
    -   将所有用户列表添加到 `user-list-container` 中。
    -   如果用户列表为空，则显示“目前没有其他活动用户。”的消息。
-   **错误处理**: 如果请求失败，则在 `user-list-container` 中显示错误消息，并通过 `store` 显示通知。

## 交互流程

-   用户访问用户列表页面，系统首先验证其认证状态。
-   页面加载时，自动从后端获取并显示活跃用户列表。

## 维护

该文档应与 `frontend/public/js/userListPage.js` 文件的任何更改保持同步，以确保其准确性和实用性。
